<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="icon" href="/image/qing_1.ico">
	<title>sastlinux</title>
	<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
	<div id="back">    
		<img src="/image/linux.jpg" height="100%" width="100%"/>    
	</div>  
	<div id="head">
		<div id="lesson">
		Sast-Linux
		</div>
		<div id="lecturer">
		讲师：林恩怜&陈润青
		</div>
	</div>
	<div id="menu">
		<ul>
			<li><a href="/">首页</a></li>
			<li><a href="#">课程</a>
				<ul>
					<li><a href="#">认识&了解</a>
						<ul>
							<li><a href="/courseware/00">历史&远程控制</a></li>
							<li><a href="/courseware/01">简单文件操作</a></li>
							<li><a href="/courseware/02">启动&引导</a></li>
							<li><a href="/courseware/03">认识shell</a></li>
						</ul>
					</li>
					<li><a href="#">文件&目录</a>
						<ul>
							<li><a href="/courseware/04">文件&目录管理</a></li>
							<li><a href="/courseware/05">命令(一般常用)</a></li>
							<li><a href="/courseware/06">文件权限</a></li>
						</ul>
					</li>
					<li><a href="#">文本流</a>
						<ul>
							<li><a href="/courseware/07">文本查阅</a></li>
							<li><a href="/courseware/08">文本匹配</a></li>
							<li><a href="/courseware/09">管道&重定向</a></li>
						</ul>
					</li>
					<li><a href="#">文件系统</a>
						<ul>
							<li><a href="/courseware/10">结构</li>
							<li><a href="/courseware/11">命令</li>
						</ul>
					</li>
					<li><a href="/courseware/12">磁盘操作</a></li>
					<li><a href="/courseware/13">进程管理</a></li>
					<li><a href="#">other重要命令</a>
						<ul>
							<li><a href="/courseware/14">软硬链接ln</a></li>
							<li><a href="/courseware/15">搜索find</a></li>
							<li><a href="/courseware/16">打包压缩tar</a></li>
							<li><a href="/courseware/17">拷贝转换dd</a></li>
						</ul>
					</li>
					<li><a href="#">开发</a>
						<ul>
							<li><a href="/courseware/18">vim</a></li>
							<li><a href="/courseware/19">gcc</a></li>
						</ul>
					</li>
					<li><a href="/courseware/20">服务器聊天</a></li>
					<li><a href="/courseware/21">单行多命令</a></li>
					<li><a href="/courseware/22">sftp文件传输</a></li>
					<li><a href="/courseware/23">结课</a></li>
				</ul>
			</li>
			<li><a href="#">下载&购买</a>
				<ul>
					<li><a href="#">ssh</a>
						<ul>
							<li><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/" target="_blank">PuTTY</a></li>
							<li><a href="http://www.netsarang.com/products/xsh_overview.html" target="_blank">Xshell</a></li>
							<li><a href="http://jaist.dl.sourceforge.net/project/filezilla/FileZilla_Client/3.14.1/FileZilla_3.14.1_win64-setup.exe" target="_blank">FileZilla</a></li>
						</ul>
					</li>
					<li><a href="#">虚拟机</a>
						<ul>
							<li><a href="https://www.virtualbox.org/" target="_blank">VirtualBox</a></li>
							<li><a href="http://www.vmware.com/" target="_blank">VMware</a></li>
						</ul>
					</li>
					<li><a href="#">云服务器</a>
						<ul>
							<li><a href="https://www.aliyun.com/" target="_blank">阿里云</a></li>
							<li><a href="https://www.qcloud.com/" target="-blank">腾讯云</a></li>
						</ul>
					</li>
					<li><a href="https://www.realvnc.com/download/viewer/" target="_blank">VNC&nbspViewer</a>
					<li><a href="http://www.diskgenius.cn/" target="_blank">DiskGenius</a>
					<li><a href="/download/man.chm">命令速查手册</a>
				</ul>
			</li>
			<li><a href="/about/01">关于</a></li>
			<li><a href="http://www.njuptsast.org/" target="_blank">Sast主页</a></li>
			<li><a href="http://linux.vbird.org/" target="_blank">鸟哥私房菜</a></li>
		</ul>
	</div>
	<div id="main" style="position: absolute; top: 180px; left: 2em; right: 2em;text-align: left; text-indent: 2em;">
	<!--文本添加处-->
		<p>vim，还是讲点吧，编辑器之神。</p><br>
		<img src="image/start.png"><br><br>
		<p>vim不是真的像vi那么简单，配置后的vim可以非常强大，而自己配置的vim可以非常顺手，而且我配置的vimrc是linux和windows通用的，先说说怎么用，浏览器直接打开可能看到乱码，看看自己家目录下有没有.vimrc，把我的.vimrc写进去就OK了。</p><br>
		<img src="image/wgetvimrc.png"><br><br>
		<p>如上图，wget可以用来下载东西，在家目录下载这个.vimrc就可以了。</p><br>
		<p>vimtutor，这是个命令，其实是vim的官方教程，而且这个教程本身可以用vim的操作，跟着教程走一遍就基本可以简单使用vim了。</p><br>
		<img src="image/tutor.png"><br><br>
		<p>其实还有中文的vimtutor，LANG=zh_CN.UTF-8 vimtutor，这是临时把代表语言的环境变量改成中文然后vimtutor。</p><br>
		<img src="image/zhtutor.png"><br><br>
		<p>首先，vim主要是在主键盘操作，也就是尽量不用方向键和小键盘那些。</p><br>
		<img src="image/keyboard.png"><br><br>
		<p>然后其实vim命令是很复杂的。</p><br>
		<img src="image/vim.png"><br><br>
		<p>但不需要都掌握，一些基本的用顺手了，其他的能学多少是多少。</p><br>
		<pre>
用vim打开文件,
	vim 文件名

	:q
	退出，
	:w
	保存，
	:e 文件名
	打开另一个文件，

	这三个加感叹号表示强制执行，:q!,:w!
		</pre>
		<p>下面也不打开什么文件了，就用vimtutor演示，在命令模式下，之前说过，vim打开是会运行家目录下的.vimrc，也就是说下面的命令都可以写在.vimrc里，每次自动执行，下面这命令是设置不兼容vi，如果兼容vi的话会有很多vim命令用不了，:set nocompatible，所有命令者可以用 数字+命令 表示多次执行，如8j，:!ls，冒号感叹号:!开头的可以执行shell的命令，首先是光标移动，hjkl,左下右上，四个在一排，比什么上下左右好用多了。</p><br>
		<img src="image/hjkl.png"><br><br>
		<pre>
w,b,光标跳到下/上个单词，还有个e也是跳到行尾，
	$,^,光标跳到行尾/行首，还有个0也是跳到行首，
	C-u/C-d,上/下滚动半页，
	C-b/C-f,上/下滚动一页，
	C-e/C-y,上/下滚动一行，
	gg,瞬移到开头行，
	G,瞬移到最后行，
	数字G,瞬移到指定行，8G就是跳到第8行，
	zz,瞬移到屏幕中间，
	然后是删除，
	x，删除当前一个字符。
		</pre>
		<img src="image/x.png"><br><br>
		<p>dd,删除当前行，D，删除当前行里，光标后面的字符。</p><br>
		<p>然后是进入插入模式的命令。</p><br>
		<img src="image/i.png"><br><br>
		<pre>
iao,这三种，加上大小写共6种，都试试效果，
	i,a,当前字符的前/后面插入，
	I,A,当前行的开头/结尾插入，
	o,O,下/上一行插入。
		</pre>
		<p>进入了插入模式就可以写代码了，先说说退出到命令模式，除了左上角的Esc(escape)逃脱键表示返回，还可以用C-[输入Esc的值也能返回，还可以用C-c表示结束插入模式，我一般都是用C-[，还有临时退回命令模式，执行一条命令就返回插入模式的C-o，还是说说光标移动，显然这里就不能用hjkl移动光标了，只能用方向键，或者网上的许多人喜欢把C+hjkl映射到方向键。</p><br>
		<pre>
:imap c-h <left>
	:imap c-j <down>
	:imap c-k <up>
	:imap c-l <right>
	但我不喜欢，不喜欢在插入模式移动光标。
		</pre>
		<p>然后是删除，默认的backspace(退格键)和其他编辑器完全不同，vim的退格键只用来修改本次的插入，我用不惯，所以用下面的命令改成和别的一样，:set backspace=2，真正的删除键(Delete)，删除后面一个字符，正常使用，有了上面这些基本就能当成普通的编辑器用了，而且是个不需要方向键不需要小键盘不需要鼠标的编辑器，但vim显然不止这样，所以继续讲点命令，帮助，:h，后面跟上要查的命令，但是并不好用，因为vim里面的命令太复杂，还分各种模式，而且命令模式还有些是冒号:开头的，总之不容易查到自己要的。</p><br>
		<img src="image/help.png"><br><br>
		<p>顺便说说，冒号:开头有大多数命令都是有缩写的，h是help的缩写。</p><br>
		<pre>
搜索，
	/,?,向下/上搜索，后面跟上正则表达式，
	n,N,搜索下/上一个，循环搜索，
	*,#,在一个单词上搞这个表示向下/上搜索这个单词。

	替换，
	:%s/正则/替换/gi
	就是把上面的“正则”替换成“替换”，
	这里也可以用上正则，所以说正则相当重要，
	前面的%表示全文每行都替换，去掉只替换当前行，
	后面的g表示替换每个匹配的，去掉只替换行里第一次出现的，
	后面的i表示匹配时无视大小写，都是可以不要的。

	:set
	可以设置很多东西，直接:set可以看到当前的设置，
	:set ic
	搜索时无视大小写，加个no就取消:set noic
	:set fenc=utf-8
	设置文件编码，可以改成各种编码，
	:set fileencodings=ucs-bom,utf-8,cp936,ucs-bom,shift-jis,gb18030,gb2312,latin1
	这个要放在.vimrc才有用，是在打开文件时按这个顺序判断文件的编码，
	:set ff=unix
	改文件换行符的类型，dos,unix,mac。

	复制粘贴，剪切板，
	:reg
	这个命令可以看寄存器(register)，其实就是剪切板，
	可以看到这个剪切板里有很多寄存器。
		</pre>	
		<img src="image/reg.png"><br><br>
		<p>默认使用的是"双引号寄存器，前面说的删除，其实都能看成剪切，东西都会存在这个寄存器，y,这个y是复制，后面跟上光标移动的命令，敲两下y是复制当前行，要配合下面说的选择才能比较准确的选择要复制的内容，p,P,粘贴，分别是在后面和前面粘贴。</p><br>
		<img src="image/copy.png"><br>
		<img src="image/oth.png"><br>
		<img src="image/regp.png"><br><br>
		<p>u,撤销，ctrl-r是取消撤销。</p><br>
		<img src="image/undo.png"><br><br>
		<p>选择模式，上面的一些操作，比如替换，删除之类的，可以只针对一部分，用v键进入选择模式,移动光标然后执行命令，如果执行的是冒号:开头的命令，会自动出现:'<,'>表示后面命令只对选择的这部分。</p><br>
		<img src="image/v.png"><br><br>
		<p>还有shift-v是整行选择。</p>
		<img src="image/vline.png"><br><br>
		<p>ctrl-v是矩形的选择。</p><br>
		<img src="image/vblock.png"><br><br>
		<p>这些选择都是结合别的命令使用的，可以随便试试，剩下的时间主要自己操作一番，看看vimtutor,如果能喜欢上vim，就花个几天，几周来学习一下vim的命令，还有vim的脚本语言，作为一个脚本语言是很强大的，还有可以用各种map，把一些组合键和F键设置成编译运行当前写的代码，虽然我并不喜欢这样，还有些其他常用的设置，可以看看我的.vimrc，还有页面下方的链接，别人配置的vim，可以试试。</p><br>
		<ul>
			<li style="line-height: 40px; text-align: center; width: 160px; text-indent: 0em;"><a href="http://www.cnblogs.com/ma6174/archive/2011/12/10/2283393.html" target="_blank">外链:ma6174配置</a></li><br>
			<li style="line-height: 40px; text-align: center; width: 120px; text-indent: 0em;"><a href="/courseware/00/02"></a></li>
		</ul>
	</div>
	<div class="recordcode">
		<a href="http://www.beian.gov.cn/" title="链接至信息产业部备案管理系统" target="_blank">
		</a>
	</div>
</body>
</html>